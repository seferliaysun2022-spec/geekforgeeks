from collections import deque
import time

class StackQueue1:  # YanaÅŸma 1
    def __init__(self):
        self.q1 = deque()
        self.q2 = deque()
    
    def push(self, x):
        self.q2.append(x)
        while self.q1:
            self.q2.append(self.q1.popleft())
        self.q1, self.q2 = self.q2, self.q1
    
    def pop(self):
        if self.empty():
            return None
        return self.q1.popleft()
    
    def top(self):
        if self.empty():
            return -1
        return self.q1[0]
    
    def size(self):
        return len(self.q1)
    
    def empty(self):
        return len(self.q1) == 0
    
    def display(self):
        print("   q1:", list(self.q1))
        print("   q2:", list(self.q2))


class StackQueue2:  # YanaÅŸma 2
    def __init__(self):
        self.q1 = deque()
        self.q2 = deque()
    
    def push(self, x):
        self.q1.append(x)
    
    def pop(self):
        if self.empty():
            return None
        
        while len(self.q1) > 1:
            self.q2.append(self.q1.popleft())
        
        top = self.q1.popleft()
        self.q1, self.q2 = self.q2, self.q1
        return top
    
    def top(self):
        if self.empty():
            return -1
        
        while len(self.q1) > 1:
            self.q2.append(self.q1.popleft())
        
        top = self.q1.popleft()
        self.q2.append(top)
        self.q1, self.q2 = self.q2, self.q1
        return top
    
    def size(self):
        return len(self.q1)
    
    def empty(self):
        return len(self.q1) == 0
    
    def display(self):
        print("   q1:", list(self.q1))
        print("   q2:", list(self.q2))


class StackQueue3: 
    def __init__(self):
        self.q = deque()
    
    def push(self, x):
        size = len(self.q)
        self.q.append(x)
        for _ in range(size):
            self.q.append(self.q.popleft())
    
    def pop(self):
        if self.empty():
            return None
        return self.q.popleft()
    
    def top(self):
        if self.empty():
            return -1
        return self.q[0]
    
    def size(self):
        return len(self.q)
    
    def empty(self):
        return len(self.q) == 0
    
    def display(self):
        print("   q:", list(self.q))


def test_performance():
    """MÃ¼xtÉ™lif yanaÅŸmalarÄ±n performansÄ±nÄ± test et"""
    print("âš¡ PERFORMANS TESTÄ°")
    print("=" * 50)
    
    test_sizes = [100, 1000, 5000]
    
    for size in test_sizes:
        print(f"\nTest Ã¶lÃ§Ã¼sÃ¼: {size}")
        print("-" * 30)
        
        # YanaÅŸma 1 testi
        start = time.time()
        stack1 = StackQueue1()
        for i in range(size):
            stack1.push(i)
        for i in range(size):
            stack1.pop()
        time1 = time.time() - start
        
        # YanaÅŸma 2 testi
        start = time.time()
        stack2 = StackQueue2()
        for i in range(size):
            stack2.push(i)
        for i in range(size):
            stack2.pop()
        time2 = time.time() - start
        
        # YanaÅŸma 3 testi
        start = time.time()
        stack3 = StackQueue3()
        for i in range(size):
            stack3.push(i)
        for i in range(size):
            stack3.pop()
        time3 = time.time() - start
        
        print(f"YanaÅŸma 1 (Push O(n), Pop O(1)): {time1:.4f} saniyÉ™")
        print(f"YanaÅŸma 2 (Push O(1), Pop O(n)): {time2:.4f} saniyÉ™")
        print(f"YanaÅŸma 3 (Bir Queue, Push O(n)): {time3:.4f} saniyÉ™")


def main():
    print("=" * 60)
    print("ğŸš€ QUEUE Ä°LÆ STACK Ä°MPLEMENTASÄ°YASI")
    print("=" * 60)
    
    print("\nğŸ¯ 3 MÃ¼xtÉ™lif YanaÅŸma:")
    print("1. Ä°ki Queue - Push O(n), Pop O(1)")
    print("2. Ä°ki Queue - Push O(1), Pop O(n)")
    print("3. Bir Queue - Push O(n), Pop O(1)")
    
    method = input("\nSeÃ§im edin (1/2/3): ")
    
    if method == "1":
        stack = StackQueue1()
        print("\nâœ… YanaÅŸma 1 seÃ§ildi: Push O(n), Pop O(1)")
    elif method == "2":
        stack = StackQueue2()
        print("\nâœ… YanaÅŸma 2 seÃ§ildi: Push O(1), Pop O(n)")
    elif method == "3":
        stack = StackQueue3()
        print("\nâœ… YanaÅŸma 3 seÃ§ildi: Bir Queue, Push O(n)")
    else:
        print("âŒ YanlÄ±ÅŸ seÃ§im!")
        return
    
    while True:
        print("\n" + "=" * 40)
        print("ğŸ“‹ ÆMÆLÄ°YYATLAR")
        print("=" * 40)
        print("1. Push (Element É™lavÉ™ et)")
        print("2. Pop (Element sil)")
        print("3. Top (Ãœst element)")
        print("4. Ã–lÃ§Ã¼")
        print("5. BoÅŸ/Yoxla")
        print("6. GÃ¶rÃ¼ntÃ¼lÉ™")
        print("7. Performans testi")
        print("8. Ã‡Ä±xÄ±ÅŸ")
        print("=" * 40)
        
        choice = input("SeÃ§im (1-8): ")
        
        if choice == "1":
            try:
                value = int(input("ÆdÉ™d daxil edin: "))
                stack.push(value)
                print(f"âœ… {value} É™lavÉ™ edildi")
            except ValueError:
                print("âŒ RÉ™qÉ™m daxil edin!")
        
        elif choice == "2":
            result = stack.pop()
            if result is not None:
                print(f"âœ… Silindi: {result}")
            else:
                print("âŒ Stack boÅŸdur!")
        
        elif choice == "3":
            result = stack.top()
            if result != -1:
                print(f"ğŸ‘† Ãœst element: {result}")
            else:
                print("âŒ Stack boÅŸdur!")
        
        elif choice == "4":
            print(f"ğŸ“ Stack Ã¶lÃ§Ã¼sÃ¼: {stack.size()}")
        
        elif choice == "5":
            if stack.empty():
                print("âœ… Stack BOÅDUR")
            else:
                print("âœ… Stack BOÅ DEYÄ°L")
        
        elif choice == "6":
            print("\nğŸ“Š Stack vÉ™ziyyÉ™ti:")
            stack.display()
            print(f"   Ã–lÃ§Ã¼: {stack.size()}")
            print(f"   BoÅŸmu: {'BÉ™li' if stack.empty() else 'Xeyr'}")
        
        elif choice == "7":
            test_performance()
        
        elif choice == "8":
            print("\nğŸ‘‹ Proqramdan Ã§Ä±xÄ±lÄ±r...")
            break
        
        else:
            print("âŒ YanlÄ±ÅŸ seÃ§im!")
        
        if choice != "8":
            input("\nâ Davam etmÉ™k Ã¼Ã§Ã¼n Enter basÄ±n...")


if __name__ == "__main__":
    main()