import time

class QueueStack1:  
    def __init__(self):
        self.s1 = []
        self.s2 = []
    
    def enqueue(self, x):
       
        while self.s1:
            self.s2.append(self.s1.pop())
        
     
        self.s1.append(x)
        
        
        while self.s2:
            self.s1.append(self.s2.pop())
        print(f"‚úÖ {x} queue-ya …ôlav…ô edildi")
    
    def dequeue(self):
        if self.is_empty():
            print("‚ùå Queue bo≈üdur!")
            return None
        value = self.s1.pop()
        print(f"‚úÖ {value} queue-dan silindi")
        return value
    
    def front(self):
        if self.is_empty():
            return -1
        return self.s1[-1]
    
    def size(self):
        return len(self.s1)
    
    def is_empty(self):
        return len(self.s1) == 0
    
    def display(self):
        print("   s1 (…ôsas):", list(reversed(self.s1)))
        print("   s2 (k√∂m…ôk√ßi):", list(self.s2))


class QueueStack2:  
    def __init__(self):
        self.input_stack = []
        self.output_stack = []
    
    def enqueue(self, x):
        self.input_stack.append(x)
        print(f"‚úÖ {x} queue-ya …ôlav…ô edildi")
    
    def dequeue(self):
        if self.is_empty():
            print("‚ùå Queue bo≈üdur!")
            return None
        
       
        if not self.output_stack:
            while self.input_stack:
                self.output_stack.append(self.input_stack.pop())
        
        value = self.output_stack.pop()
        print(f"‚úÖ {value} queue-dan silindi")
        return value
    
    def front(self):
        if self.is_empty():
            return -1
        
    
        if not self.output_stack:
            while self.input_stack:
                self.output_stack.append(self.input_stack.pop())
        
        return self.output_stack[-1]
    
    def size(self):
        return len(self.input_stack) + len(self.output_stack)
    
    def is_empty(self):
        return len(self.input_stack) == 0 and len(self.output_stack) == 0
    
    def display(self):
        print("   Input stack (giri≈ü):", list(self.input_stack))
        print("   Output stack (√ßƒ±xƒ±≈ü):", list(reversed(self.output_stack)))


class QueueStack3: 
    def __init__(self):
        self.stack = []
    
    def enqueue(self, x):
        self.stack.append(x)
        print(f"‚úÖ {x} queue-ya …ôlav…ô edildi")
    
    def dequeue(self):
        if self.is_empty():
            print("‚ùå Queue bo≈üdur!")
            return None
       
        def dequeue_recursive(stack):
            if len(stack) == 1:
                return stack.pop(), []
            
            top = stack.pop()
            front, remaining = dequeue_recursive(stack)
            remaining.append(top)
            return front, remaining
        
        front, new_stack = dequeue_recursive(self.stack)
        self.stack = new_stack
        print(f"‚úÖ {front} queue-dan silindi")
        return front
    
    def front(self):
        if self.is_empty():
            return -1
        
        def front_recursive(stack):
            if len(stack) == 1:
                return stack[-1], []
            
            top = stack.pop()
            front_value, remaining = front_recursive(stack)
            remaining.append(top)
            return front_value, remaining
        
        front_value, new_stack = front_recursive(self.stack)
        self.stack = new_stack  # Elementl…ôri geri qoy
        return front_value
    
    def size(self):
        return len(self.stack)
    
    def is_empty(self):
        return len(self.stack) == 0
    
    def display(self):
        print("   Stack:", list(self.stack))


def test_performance():
    """M√ºxt…ôlif yana≈ümalarƒ±n performansƒ±nƒ± test et"""
    print("‚ö° PERFORMANS TESTƒ∞")
    print("=" * 50)
    
    test_sizes = [100, 1000, 5000]
    
    for size in test_sizes:
        print(f"\nTest √∂l√ß√ºs√º: {size}")
        print("-" * 30)
        
      
        start = time.time()
        q1 = QueueStack1()
        for i in range(size):
            q1.enqueue(i)
        for i in range(size):
            q1.dequeue()
        time1 = time.time() - start
        
       
        start = time.time()
        q2 = QueueStack2()
        for i in range(size):
            q2.enqueue(i)
        for i in range(size):
            q2.dequeue()
        time2 = time.time() - start
        
    
        start = time.time()
        q3 = QueueStack3()
        for i in range(size):
            q3.enqueue(i)
        for i in range(size):
            q3.dequeue()
        time3 = time.time() - start
        
        print(f"Yana≈üma 1 (Enqueue O(n)): {time1:.4f} saniy…ô")
        print(f"Yana≈üma 2 (Amortized O(1)): {time2:.4f} saniy…ô")
        print(f"Yana≈üma 3 (Rekursiv O(n)): {time3:.4f} saniy…ô")


def main():
    print("=" * 60)
    print("üöÄ STACK ƒ∞L∆è QUEUE ƒ∞MPLEMENTASƒ∞YASI")
    print("=" * 60)
    
    print("\nüéØ 3 M√ºxt…ôlif Yana≈üma:")
    print("1. ƒ∞ki Stack - Enqueue O(n), Dequeue O(1)")
    print("2. ƒ∞ki Stack - Enqueue O(1), Dequeue amortized O(1)")
    print("3. Bir Stack + Rekursiya - Enqueue O(1), Dequeue O(n)")
    
    method = input("\nSe√ßim edin (1/2/3): ")
    
    if method == "1":
        queue = QueueStack1()
        print("\n‚úÖ Yana≈üma 1 se√ßildi: Enqueue O(n), Dequeue O(1)")
    elif method == "2":
        queue = QueueStack2()
        print("\n‚úÖ Yana≈üma 2 se√ßildi: Enqueue O(1), Dequeue amortized O(1)")
    elif method == "3":
        queue = QueueStack3()
        print("\n‚úÖ Yana≈üma 3 se√ßildi: Bir Stack + Rekursiya")
    else:
        print("‚ùå Yanlƒ±≈ü se√ßim!")
        return
    
    while True:
        print("\n" + "=" * 40)
        print("üìã ∆èM∆èLƒ∞YYATLAR")
        print("=" * 40)
        print("1. Enqueue (Element …ôlav…ô et)")
        print("2. Dequeue (Element sil)")
        print("3. Front (√ñn element)")
        print("4. Size (√ñl√ß√º)")
        print("5. Empty (Bo≈ü/Yoxla)")
        print("6. Display (G√∂r√ºnt√ºl…ô)")
        print("7. Demo √ßalƒ±≈ütƒ±r (N√ºmun…ô)")
        print("8. Performans testi")
        print("9. √áƒ±xƒ±≈ü")
        print("=" * 40)
        
        choice = input("Se√ßim (1-9): ")
        
        if choice == "1":
            try:
                value = int(input("∆èd…ôd daxil edin: "))
                queue.enqueue(value)
            except ValueError:
                print("‚ùå R…ôq…ôm daxil edin!")
        
        elif choice == "2":
            result = queue.dequeue()
            if result is not None:
                print(f"üì§ Silin…ôn element: {result}")
        
        elif choice == "3":
            result = queue.front()
            if result != -1:
                print(f"üëÜ √ñn element (front): {result}")
            else:
                print("‚ùå Queue bo≈üdur!")
        
        elif choice == "4":
            print(f"üìè Queue √∂l√ß√ºs√º: {queue.size()}")
        
        elif choice == "5":
            if queue.is_empty():
                print("‚úÖ Queue BO≈ûDUR")
            else:
                print("‚úÖ Queue BO≈û DEYƒ∞L")
        
        elif choice == "6":
            print("\nüìä Queue v…ôziyy…ôti:")
            queue.display()
            print(f"   √ñl√ß√º: {queue.size()}")
            print(f"   Bo≈ümu: {'B…ôli' if queue.is_empty() else 'Xeyr'}")
            print(f"   Front: {queue.front() if queue.front() != -1 else 'Bo≈ü'}")
        
        elif choice == "7":
            print("\nüé¨ DEMO √áALI≈ûDIRILIR...")
            print("=" * 30)
            
            # Demo test
            demo_queue = QueueStack2() if method == "2" else (QueueStack1() if method == "1" else QueueStack3())
            
            print("1. 3 element …ôlav…ô edilir:")
            demo_queue.enqueue(10)
            demo_queue.enqueue(20)
            demo_queue.enqueue(30)
            
            print(f"\n2. Front element: {demo_queue.front()}")
            print(f"   Size: {demo_queue.size()}")
            
            print("\n3. Dequeue edilir:")
            demo_queue.dequeue()
            print(f"   Yeni front: {demo_queue.front()}")
            print(f"   Yeni size: {demo_queue.size()}")
            
            print("\n4. N√∂vb…ôti dequeue:")
            demo_queue.dequeue()
            print(f"   Yeni front: {demo_queue.front()}")
            
            print("\n5. Son dequeue:")
            demo_queue.dequeue()
            print(f"   Queue bo≈ümu: {'B…ôli' if demo_queue.is_empty() else 'Xeyr'}")
        
        elif choice == "8":
            test_performance()
        
        elif choice == "9":
            print("\nüëã Proqramdan √ßƒ±xƒ±lƒ±r...")
            break
        
        else:
            print("‚ùå Yanlƒ±≈ü se√ßim!")
        
        if choice != "9":
            input("\n‚èé Davam etm…ôk √º√ß√ºn Enter basƒ±n...")


if __name__ == "__main__":
    main()