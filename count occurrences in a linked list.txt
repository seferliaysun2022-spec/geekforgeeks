class Node:
    def __init__(self, data):
        self.data = data
        self.next = None
def print_list(head):
    current = head
    while current:
        print(current.data, end=" -> " if current.next else "")
        current = current.next
    print()
def create_list(arr):
    if not arr:
        return None
    head = Node(arr[0])
    current = head
    for value in arr[1:]:
        current.next = Node(value)
        current = current.next
    return head
def count_key_iterative(head, key, izahlı=False):
    """
    Linked list-də verilmiş key-in neçə dəfə olduğunu iterativ şəkildə sayır
    """
    if izahlı:

        print(f"ITERATİV ÜSUL İLƏ SAYMA:")
        print(f"Axtarılan key: {key}")
    if not head:
        if izahlı:
            print("List boşdur!")
        return 0
    current = head
    count = 0
    position = 1
    if izahlı:
        print(f"\nListi gəzirik və hər node-u yoxlayırıq:")
        print(f"Başlanğıc: count = 0")
    while current:
        if izahlı:
            print(f"\n{position}. node: {current.data}")
        if current.data == key:
            count += 1
            if izahlı:
                print(f"  ✅ {current.data} == {key} → count = {count}")
        else:
            if izahlı:
                print(f"  ❌ {current.data} != {key} → count dəyişmir")
        current = current.next
        position += 1
    if izahlı:
        print(f"✅ TAPILDI: {key} key-i listdə {count} dəfə var")
    return count
def count_key_recursive(head, key, izahlı=False, depth=1):
    """
    Linked list-də verilmiş key-in neçə dəfə olduğunu rekursiv şəkildə sayır
    """
    if izahlı and head:
        print(f"{'  ' * (depth-1)}Rekursiya {depth}: node = {head.data}")
    if not head:
        if izahlı:
            print(f"{'  ' * (depth-1)}Base case: list sonu → 0 qaytar")
        return 0
    count_rest = count_key_recursive(head.next, key, izahlı, depth + 1)
    if izahlı:
        print(f"{'  ' * (depth-1)}Geri qayıdış {depth}: node = {head.data}, rest_count = {count_rest}")
    if head.data == key:
        if izahlı:
            print(f"{'  ' * (depth-1)}  {head.data} == {key} → total = {count_rest + 1}")
        return count_rest + 1
    else:
        if izahlı:
            print(f"{'  ' * (depth-1)}  {head.data} != {key} → total = {count_rest}")
        return count_rest
print("\n1. NÜMUNƏ: 1 -> 2 -> 1 -> 2 -> 1 -> 3 -> 1, key = 1")
arr = [1, 2, 1, 2, 1, 3, 1]
head = create_list(arr)
print("List: ", end="")
print_list(head)
say1 = count_key_iterative(head, key=1, izahlı=True)
print("REKURSİV ÜSUL:")
say2 = count_key_recursive(head, key=1, izahlı=True)
print("\n\n2. NÜMUNƏ: 1 -> 2 -> 1 -> 2 -> 1, key = 3")
arr = [1, 2, 1, 2, 1]
head = create_list(arr)
print("List: ", end="")
print_list(head)
say1 = count_key_iterative(head, key=3, izahlı=True)
print("ÖZ NÜMUNƏNİZİ YOXLAYIN:")
giriş_list = input("List elementlərini vergüllə ayıraraq daxil edin: ")
if giriş_list:
    try:
        arr = [int(x.strip()) for x in giriş_list.split(",")]
        key = int(input("Axtarmaq istədiyiniz key-i daxil edin: "))
        head = create_list(arr)
        print(f"\nList: ", end="")
        print_list(head)
        say_iterativ = count_key_iterative(head, key)
        say_rekursiv = count_key_recursive(head, key)
        
        print(f"\nIterativ üsul: {say_iterativ}")
        print(f"Rekursiv üsul: {say_rekursiv}")
        
        if say_iterativ == say_rekursiv:
            print(f"\n✅ Hər iki metod eyni nəticəni verdi!")
        else:
            print(f"\n⚠️ Metodlar fərqli nəticə verdi!")
        
    except:
        print("Xəta! Zəhmət olmasa rəqəmlər daxil edin.")
else:
    print("List daxil edilmədi!")