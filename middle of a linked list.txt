class Node:
    def __init__(self, data):
        self.data = data
        self.next = None
def print_list(head):
    current = head
    while current:
        print(current.data, end=" -> " if current.next else "")
        current = current.next
    print()
def create_list(arr):
    if not arr:
        return None
    head = Node(arr[0])
    current = head
    for value in arr[1:]:
        current.next = Node(value)
        current = current.next
    return head
def find_middle_two_pass(head, izahlı=False):
    """
    İki dəfə listi gəzərək orta node-u tapır
    """
    if izahlı:
        print(f"\n{'='*70}")
        print(f"1. İKİ KEÇİD METODU:")
        print(f"{'='*70}")
    
    if not head:
        if izahlı:
            print("List boşdur!")
        return None
    length = 0
    current = head
    if izahlı:
        print(f"\nBirinci keçid: Uzunluğu hesablamaq")
        print(f"Başlanğıc: length = 0")
    while current:
        length += 1
        if izahlı:
            print(f"  {current.data} → length = {length}")
        current = current.next
    if izahlı:
        print(f"\nÜmumi uzunluq: {length}")
        if length % 2 == 0:
            print(f"  Cüt sayda node ({length}) → 2 orta node var")
            print(f"  Biz 2-ci orta node-u qaytaracağıq")
        else:
            print(f"  Tək sayda node ({length}) → 1 orta node var")
    middle_pos = length // 2
    current = head
    count = 0
    if izahlı:
        print(f"\nİkinci keçid: Orta node-u tapmaq")
        print(f"Orta mövqe: {length} // 2 = {middle_pos}")
        print(f"İndekslər 0-dan başlayır")
    while current:
        if count == middle_pos:
            if izahlı:
                print(f"\n✅ TAPILDI: Orta node = {current.data}")
                print(f"   Mövqe: {count} (0-dan başlayaraq)")
            return current.data
        if izahlı:
            print(f"  İndeks {count}: {current.data}")
        current = current.next
        count += 1
    return None
def find_middle_hare_tortoise(head, izahlı=False):
    """
    Tısbağa və Dovşan alqoritmi ilə orta node-u tapır
    """
    if izahlı:
        print(f"\n{'='*70}")
        print(f"2. TISBAĞA VƏ DOVŞAN ALQORİTMİ:")
        print(f"{'='*70}")
        print(f"Tısbağa: hər addımda 1 node")
        print(f"Dovşan: hər addımda 2 node")
        print(f"Dovşan sona çatanda, tısbağa ortada olur!")
    if not head:
        if izahlı:
            print("List boşdur!")
        return None
    slow = head  
    fast = head  
    step = 1
    if izahlı:
        print(f"\nBaşlanğıc: slow = {slow.data}, fast = {fast.data}")
    while fast and fast.next:
        if izahlı:
            print(f"\nAddım {step}:")
        fast = fast.next.next
        slow = slow.next
        if izahlı:
            print(f"  Dovşan: {fast.data if fast else 'NULL'}")
            print(f"  Tısbağa: {slow.data}")
        step += 1
    if izahlı:
        print(f"\n✅ TAPILDI: Orta node = {slow.data}")
        print(f"   Dovşan sona çatdı, tısbağa ortada qaldı!")
    return slow.data
print("\n1. NÜMUNƏ (Tək sayda): 1 -> 2 -> 3 -> 4 -> 5")
arr = [1, 2, 3, 4, 5]
head = create_list(arr)
print("List: ", end="")
print_list(head)
orta1 = find_middle_two_pass(head, izahlı=True)
orta2 = find_middle_hare_tortoise(head, izahlı=True)
print("\n\n2. NÜMUNƏ (Cüt sayda): 10 -> 20 -> 30 -> 40 -> 50 -> 60")
arr = [10, 20, 30, 40, 50, 60]
head = create_list(arr)
print("List: ", end="")
print_list(head)
orta1 = find_middle_two_pass(head, izahlı=True)
orta2 = find_middle_hare_tortoise(head, izahlı=True)
print("ÖZ NÜMUNƏNİZİ YOXLAYIN:")
giriş = input("List elementlərini vergüllə ayıraraq daxil edin: ")
if giriş:
    try:
        arr = [int(x.strip()) for x in giriş.split(",")]
        head = create_list(arr)
        print_list(head)
        orta_iki_keçid = find_middle_two_pass(head)
        orta_tısbağa = find_middle_hare_tortoise(head)
        print(f"\nİki keçid metodu: {orta_iki_keçid}")
        print(f"Tısbağa-dovşan metodu: {orta_tısbağa}")
        if orta_iki_keçid == orta_tısbağa:
            print(f"\n✅ Hər iki metod eyni nəticəni verdi!")
        else:
            print(f"\n⚠️ Metodlar fərqli nəticə verdi!")
    except:
        print("Xəta! Zəhmət olmasa rəqəmlər daxil edin.")
else:
    print("List daxil edilmədi!")