from collections import deque

class TreeNode:
    def __init__(self, value):
        self.data = value
        self.left = None
        self.right = None

def create_sample_tree():
    """NÃ¼munÉ™ aÄŸac yarat"""
    # AÄŸac quruluÅŸu:
    #       5
    #      / \
    #    12   13
    #   /  \    \
    #  7    14   2
    # / \   / \ / \
    #17 23 27 3 8 11
    
    root = TreeNode(5)
    
    # Level 1
    root.left = TreeNode(12)
    root.right = TreeNode(13)
    
    # Level 2
    root.left.left = TreeNode(7)
    root.left.right = TreeNode(14)
    root.right.right = TreeNode(2)
    
    # Level 3
    root.left.left.left = TreeNode(17)
    root.left.left.right = TreeNode(23)
    root.left.right.left = TreeNode(27)
    root.left.right.right = TreeNode(3)
    root.right.right.left = TreeNode(8)
    root.right.right.right = TreeNode(11)
    
    return root

def level_order_recursive(root, level, result):
    """Rekursiv Ã¼sul"""
    if root is None:
        return
    
    if len(result) <= level:
        result.append([])
    
    result[level].append(root.data)
    level_order_recursive(root.left, level + 1, result)
    level_order_recursive(root.right, level + 1, result)

def level_order_iterative(root):
    """Queue ilÉ™ iterativ Ã¼sul"""
    if root is None:
        return []
    
    result = []
    queue = deque([root])
    
    while queue:
        level_size = len(queue)
        current_level = []
        
        for _ in range(level_size):
            node = queue.popleft()
            current_level.append(node.data)
            
            if node.left:
                queue.append(node.left)
            if node.right:
                queue.append(node.right)
        
        result.append(current_level)
    
    return result

def level_order_with_separator(root):
    """SÉ™viyyÉ™lÉ™ri ayrÄ±-ayrÄ± gÃ¶stÉ™r"""
    if root is None:
        return []
    
    result = []
    queue = deque([root, None])  # None sÉ™viyyÉ™ ayÄ±rÄ±cÄ±sÄ± kimi
    
    current_level = []
    
    while queue:
        node = queue.popleft()
        
        if node is None:
            # SÉ™viyyÉ™ bitdi
            result.append(current_level.copy())
            current_level = []
            
            # ÆgÉ™r queue boÅŸ deyilsÉ™, yeni ayÄ±rÄ±cÄ± É™lavÉ™ et
            if queue:
                queue.append(None)
        else:
            # Node É™lavÉ™ et
            current_level.append(node.data)
            
            # UÅŸaqlarÄ± É™lavÉ™ et
            if node.left:
                queue.append(node.left)
            if node.right:
                queue.append(node.right)
    
    return result

def print_tree_structure():
    """AÄŸacÄ±n quruluÅŸunu vizual Ã§ap et"""
    print("\nðŸŒ³ AÄžAC QURULUÅžU:")
    print("=" * 40)
    print("""
          5
        /   \\
      12     13
     /  \\      \\
    7    14     2
   / \\   / \\   / \\
  17 23 27 3  8  11
    """)
    print("=" * 40)

def main():
    print("=" * 60)
    print("ðŸŒ³ LEVEL ORDER TRAVERSAL (SÆVÄ°YYÆVÄ° GÆZÄ°Åž)")
    print("=" * 60)
    
    # AÄŸac yarat
    root = create_sample_tree()
    
    while True:
        print("\n" + "=" * 40)
        print("ðŸ“‹ ÆMÆLÄ°YYATLAR MENYUSU")
        print("=" * 40)
        print("1. Rekursiv Ã¼sulla gÉ™z (DFS style)")
        print("2. Queue ilÉ™ gÉ™z (BFS style)")
        print("3. AyÄ±rÄ±cÄ± ilÉ™ queue gÉ™z")
        print("4. AÄŸac quruluÅŸunu gÃ¶stÉ™r")
        print("5. BÃ¼tÃ¼n Ã¼sullarÄ± mÃ¼qayisÉ™ et")
        print("6. FÉ™rqli aÄŸac yarat")
        print("7. Ã‡Ä±xÄ±ÅŸ")
        print("=" * 40)
        
        choice = input("SeÃ§im (1-7): ")
        
        if choice == "1":
            print("\nðŸ”„ REKURSÄ°V ÃœSUL:")
            result = []
            level_order_recursive(root, 0, result)
            
            print("SÉ™viyyÉ™lÉ™r Ã¼zrÉ™ nÉ™ticÉ™:")
            for i, level in enumerate(result):
                print(f"  SÉ™viyyÉ™ {i}: {level}")
        
        elif choice == "2":
            print("\nðŸ”„ QUEUE Ä°LÆ ITERATÄ°V ÃœSUL:")
            result = level_order_iterative(root)
            
            print("SÉ™viyyÉ™lÉ™r Ã¼zrÉ™ nÉ™ticÉ™:")
            for i, level in enumerate(result):
                print(f"  SÉ™viyyÉ™ {i}: {level}")
        
        elif choice == "3":
            print("\nðŸ”„ AYIRICI Ä°LÆ QUEUE ÃœSULU:")
            result = level_order_with_separator(root)
            
            print("SÉ™viyyÉ™lÉ™r Ã¼zrÉ™ nÉ™ticÉ™:")
            for i, level in enumerate(result):
                print(f"  SÉ™viyyÉ™ {i}: {level}")
        
        elif choice == "4":
            print_tree_structure()
        
        elif choice == "5":
            print("\nâš¡ BÃœTÃœN ÃœSULLARIN MÃœQAYÄ°SÆSÄ°:")
            print("-" * 40)
            
            # Rekursiv
            result_rec = []
            level_order_recursive(root, 0, result_rec)
            print("1. Rekursiv: ", result_rec)
            
            # Iterative queue
            result_iter = level_order_iterative(root)
            print("2. Queue ilÉ™: ", result_iter)
            
            # AyÄ±rÄ±cÄ± ilÉ™
            result_sep = level_order_with_separator(root)
            print("3. AyÄ±rÄ±cÄ± ilÉ™: ", result_sep)
            
            # MÃ¼qayisÉ™
            print("\nâœ… NÉ™ticÉ™lÉ™r eynidirmi?", 
                  "BÉ™li" if result_rec == result_iter == result_sep else "Xeyr")
        
        elif choice == "6":
            print("\nðŸŒ± YENÄ° AÄžAC YARADILIR...")
            print("MÃ¶vcud aÄŸac:")
            print_tree_structure()
            
            # SadÉ™ aÄŸac yarat
            simple_root = TreeNode(1)
            simple_root.left = TreeNode(2)
            simple_root.right = TreeNode(3)
            simple_root.left.left = TreeNode(4)
            simple_root.left.right = TreeNode(5)
            
            print("\nYeni aÄŸac (1-2-3-4-5):")
            result = level_order_iterative(simple_root)
            for i, level in enumerate(result):
                print(f"  SÉ™viyyÉ™ {i}: {level}")
        
        elif choice == "7":
            print("\nðŸ‘‹ Proqramdan Ã§Ä±xÄ±lÄ±r...")
            break
        
        else:
            print("âŒ YanlÄ±ÅŸ seÃ§im!")
        
        if choice != "7":
            input("\nâŽ Davam etmÉ™k Ã¼Ã§Ã¼n Enter basÄ±n...")

# ÆlavÉ™ FaydalÄ± Funksiyalar

def reverse_level_order(root):
    """TÉ™rs sÉ™viyyÉ™vi gÉ™ziÅŸ (aÅŸaÄŸÄ±dan yuxarÄ±)"""
    if root is None:
        return []
    
    result = []
    queue = deque([root])
    
    while queue:
        level_size = len(queue)
        current_level = []
        
        for _ in range(level_size):
            node = queue.popleft()
            current_level.append(node.data)
            
            if node.left:
                queue.append(node.left)
            if node.right:
                queue.append(node.right)
        
        result.insert(0, current_level)  # ÆvvÉ™lÉ™ É™lavÉ™ et
    
    return result

def zigzag_level_order(root):
    """Zigzag sÉ™viyyÉ™vi gÉ™ziÅŸ"""
    if root is None:
        return []
    
    result = []
    queue = deque([root])
    left_to_right = True
    
    while queue:
        level_size = len(queue)
        current_level = deque()
        
        for _ in range(level_size):
            node = queue.popleft()
            
            if left_to_right:
                current_level.append(node.data)
            else:
                current_level.appendleft(node.data)
            
            if node.left:
                queue.append(node.left)
            if node.right:
                queue.append(node.right)
        
        result.append(list(current_level))
        left_to_right = not left_to_right  # Ä°stiqamÉ™ti dÉ™yiÅŸ
    
    return result

def level_averages(root):
    """HÉ™r sÉ™viyyÉ™nin ortalamasÄ±"""
    if root is None:
        return []
    
    result = []
    queue = deque([root])
    
    while queue:
        level_size = len(queue)
        level_sum = 0
        
        for _ in range(level_size):
            node = queue.popleft()
            level_sum += node.data
            
            if node.left:
                queue.append(node.left)
            if node.right:
                queue.append(node.right)
        
        result.append(level_sum / level_size)
    
    return result

if __name__ == "__main__":
    main()